"use strict";var m=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var P=(o,t)=>{for(var i in t)m(o,i,{get:t[i],enumerable:!0})},h=(o,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of g(t))!k.call(o,s)&&s!==i&&m(o,s,{get:()=>t[s],enumerable:!(r=y(t,s))||r.enumerable});return o};var A=o=>h(m({},"__esModule",{value:!0}),o);var S={};P(S,{default:()=>w});module.exports=A(S);var c=require("react"),e=require("@raycast/api"),l=require("child_process"),n=require("react/jsx-runtime"),L=({networkName:o,setIsLoading:t})=>{let[i,r]=(0,c.useState)("");return(0,c.useEffect)(()=>{(async()=>{let s=await(0,e.showToast)({style:e.Toast.Style.Animated,title:"Permission Checking"});(0,l.exec)(`security find-generic-password -D "AirPort network password" -a "${o}" -w`,async(a,f,u)=>{if(a){console.error(`exec error: ${a}`),s.style=e.Toast.Style.Failure,s.title="Permission checked failed \u274C",s.message=a.message,t(!1);return}(0,l.exec)("open /Applications/Raycast.app",(d,p,C)=>{s.style=e.Toast.Style.Success,s.title="Permission checked successed \u2705",r(f.trim()),t(!1)})})})()},[]),(0,n.jsx)(e.Detail,{markdown:`
  ## Wifi Name \u{1F4F6}
  ${o}
  ## Password \u{1F511}
  ${i}
  `,actions:(0,n.jsx)(e.ActionPanel,{children:(0,n.jsx)(e.Action.CopyToClipboard,{content:i,shortcut:{modifiers:["cmd"],key:"."}})})})};function w(){let[o,t]=(0,c.useState)([]),[i,r]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{r(!0),(0,l.exec)("/usr/sbin/networksetup -listpreferredwirelessnetworks en0",(s,a,f)=>{if(s){console.error(`exec error: ${s}`),r(!1);return}let d=a.trim().split(`
`).slice(1).map(p=>p.trim());d?.length>0&&t(d),r(!1)})},[]),(0,n.jsx)(e.List,{isLoading:i,children:o.map((s,a)=>(0,n.jsx)(e.List.Item,{icon:e.Icon.Wifi,title:s,actions:(0,n.jsx)(e.ActionPanel,{children:(0,n.jsx)(e.Action.Push,{title:"Show Details",target:(0,n.jsx)(L,{networkName:s,setIsLoading:r})})})},a))})}0&&(module.exports={});
