"use strict";var s=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var l=(e,t)=>{for(var a in t)s(e,a,{get:t[a],enumerable:!0})},y=(e,t,a,f)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of p(t))!m.call(e,r)&&r!==a&&s(e,r,{get:()=>t[r],enumerable:!(f=c(t,r))||f.enumerable});return e};var b=e=>y(s({},"__esModule",{value:!0}),e);var x={};l(x,{default:()=>h});module.exports=b(x);var n=require("@raycast/api"),i=require("node:child_process");function g(e){let t=(0,n.getPreferenceValues)(),a=[];return t.preventDisplay&&a.push("d"),t.preventDisk&&a.push("m"),t.preventSystem&&a.push("i"),e&&a.push(` ${e}`),a.length>0?`-${a.join("")}`:""}async function o(e,t){if(e.menubar)try{await(0,n.launchCommand)({name:"index",type:n.LaunchType.Background,context:{caffeinated:t}})}catch{}e.status&&await(0,n.launchCommand)({name:"status",type:n.LaunchType.Background,context:{caffeinated:t}})}async function w(e,t){o(e,!1),t&&await(0,n.showHUD)(t),(0,i.execSync)("/usr/bin/killall caffeinate || true")}async function u(e,t,a){await w({menubar:!1,status:!1}),o(e,!0),t&&await(0,n.showHUD)(t),(0,i.execSync)(`/usr/bin/caffeinate ${g(a)} || true`)}var h=async()=>{await u({menubar:!0,status:!0},"Your Mac is now caffeinated")};
