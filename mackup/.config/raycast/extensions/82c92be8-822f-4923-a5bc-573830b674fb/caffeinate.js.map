{
  "version": 3,
  "sources": ["../src/caffeinate.ts", "../src/utils.ts"],
  "sourcesContent": ["import { startCaffeinate } from \"./utils\";\n\nexport default async () => {\n  await startCaffeinate({ menubar: true, status: true }, \"Your Mac is now caffeinated\");\n};\n", "import { getPreferenceValues, launchCommand, LaunchType, showHUD } from \"@raycast/api\";\nimport { execSync } from \"node:child_process\";\n\nfunction generateArgs(additionalArgs?: string) {\n  const preferences = getPreferenceValues<Preferences>();\n  const args = [];\n\n  if (preferences.preventDisplay) args.push(\"d\");\n  if (preferences.preventDisk) args.push(\"m\");\n  if (preferences.preventSystem) args.push(\"i\");\n  if (additionalArgs) args.push(` ${additionalArgs}`);\n\n  return args.length > 0 ? `-${args.join(\"\")}` : \"\";\n}\n\ntype Updates = {\n  menubar: boolean;\n  status: boolean;\n};\n\nasync function update(updates: Updates, caffeinated: boolean) {\n  if (updates.menubar) {\n    try {\n      await launchCommand({ name: \"index\", type: LaunchType.Background, context: { caffeinated } });\n    } catch (error) {\n      // catch error if menubar is not enabled\n    }\n  }\n  if (updates.status) {\n    await launchCommand({ name: \"status\", type: LaunchType.Background, context: { caffeinated } });\n  }\n}\n\nexport async function stopCaffeinate(updates: Updates, hudMessage?: string) {\n  update(updates, false);\n\n  if (hudMessage) {\n    await showHUD(hudMessage);\n  }\n\n  execSync(\"/usr/bin/killall caffeinate || true\");\n}\n\nexport async function startCaffeinate(updates: Updates, hudMessage?: string, additionalArgs?: string) {\n  await stopCaffeinate({ menubar: false, status: false });\n  update(updates, true);\n\n  if (hudMessage) {\n    await showHUD(hudMessage);\n  }\n\n  execSync(`/usr/bin/caffeinate ${generateArgs(additionalArgs)} || true`);\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GCAA,IAAAI,EAAwE,wBACxEC,EAAyB,8BAEzB,SAASC,EAAaC,EAAyB,CAC7C,IAAMC,KAAc,uBAAiC,EAC/CC,EAAO,CAAC,EAEd,OAAID,EAAY,gBAAgBC,EAAK,KAAK,GAAG,EACzCD,EAAY,aAAaC,EAAK,KAAK,GAAG,EACtCD,EAAY,eAAeC,EAAK,KAAK,GAAG,EACxCF,GAAgBE,EAAK,KAAK,IAAIF,GAAgB,EAE3CE,EAAK,OAAS,EAAI,IAAIA,EAAK,KAAK,EAAE,IAAM,EACjD,CAOA,eAAeC,EAAOC,EAAkBC,EAAsB,CAC5D,GAAID,EAAQ,QACV,GAAI,CACF,QAAM,iBAAc,CAAE,KAAM,QAAS,KAAM,aAAW,WAAY,QAAS,CAAE,YAAAC,CAAY,CAAE,CAAC,CAC9F,MAAE,CAEF,CAEED,EAAQ,QACV,QAAM,iBAAc,CAAE,KAAM,SAAU,KAAM,aAAW,WAAY,QAAS,CAAE,YAAAC,CAAY,CAAE,CAAC,CAEjG,CAEA,eAAsBC,EAAeF,EAAkBG,EAAqB,CAC1EJ,EAAOC,EAAS,EAAK,EAEjBG,GACF,QAAM,WAAQA,CAAU,KAG1B,YAAS,qCAAqC,CAChD,CAEA,eAAsBC,EAAgBJ,EAAkBG,EAAqBP,EAAyB,CACpG,MAAMM,EAAe,CAAE,QAAS,GAAO,OAAQ,EAAM,CAAC,EACtDH,EAAOC,EAAS,EAAI,EAEhBG,GACF,QAAM,WAAQA,CAAU,KAG1B,YAAS,uBAAuBR,EAAaC,CAAc,WAAW,CACxE,CDlDA,IAAOS,EAAQ,SAAY,CACzB,MAAMC,EAAgB,CAAE,QAAS,GAAM,OAAQ,EAAK,EAAG,6BAA6B,CACtF",
  "names": ["caffeinate_exports", "__export", "caffeinate_default", "__toCommonJS", "import_api", "import_node_child_process", "generateArgs", "additionalArgs", "preferences", "args", "update", "updates", "caffeinated", "stopCaffeinate", "hudMessage", "startCaffeinate", "caffeinate_default", "startCaffeinate"]
}
